#!/usr/bin/env sh
image=$(mktemp --tmpdir --suffix=.png lock.XXXXXXXXXX)
trap 'rm -f "$image"' SIGINT SIGTERM EXIT

maim -u -m 1 \
    | convert png:- \
    -sepia-tone 90% \
    -scale 10% -scale 1000% \
    -fill "#282828" -colorize 10% \
    "$image"

i3lock \
    --image="$image" \
    --insidecolor=F7CA88FF \
    --insidevercolor=FABD2FFF \
    --insidewrongcolor=FB4934FF \
    --ringcolor=282828FF \
    --ringvercolor=282828FF \
    --ringwrongcolor=282828FF \
    --linecolor=EBDBB2FF \
    --keyhlcolor=EBDBB2FF \
    --bshlcolor=FB4934FF \
    --separatorcolor=282828FF \
    --verifcolor=00000000 \
    --wrongcolor=00000000 \
    --layoutcolor=00000000 \
    --timecolor=EBDBB2FF \
    --datecolor=00000000 \
    --indpos='x+100:y+720' \
    --timepos='x+280:y+732' \
    --timestr='%H:%M:%S' \
    --time-font='monospace' \
    --timesize=48 \
    --radius=44 \
    --ring-width=2 \
    --veriftext='' \
    --wrongtext='' \
    --noinputtext='' \
    --locktext='' \
    --lockfailedtext='' \
    --indicator \
    --ignore-empty-password \
    --pass-media-keys \
    --force-clock
